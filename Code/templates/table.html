<!DOCTYPE html>
<html>
<head>
  <title>Animal Shelter Intake and Outcome Data</title>
  <!-- Add the styles from the original code here -->
</head>
<body>
  <h1 style="margin-top: 50px; text-align: center;">Animal Shelter Intake and Outcome Data</h1>

  <div style="margin-top: 30px; margin-bottom: 30px; text-align: center;">
    <label for="filter">Filter by:</label>
    <select id="filter" name="filter">
      <option value="breed">Breed</option>
      <option value="color">Color</option>
      <option value="sex">Sex</option>
      <option value="intake_type">Intake Type</option>
    </select>
    <br>
    <label for="secondary-filter" style="margin-top: 10px;">Secondary Filter:</label>
    <select id="secondary-filter" name="secondary-filter" style="margin-top: 10px;">
      <!-- Options will be dynamically populated -->
    </select>
  </div>
  
  <!-- Add the table from the original code here -->

  <script>
    // Define the filter values
    var filterValues = {
      "breed": ["Chihuahua", "Labrador Retriever", "Poodle", "Mixed Breed", "Terrier", "Boxer", "German Shepherd", "Shih Tzu", "Dachshund", "Rottweiler"],
      "color": ["Black", "White", "Brown", "Gray", "Tan", "Yellow", "Red", "Golden", "Cream"],
      "sex": ["Male", "Female"],
      "intake_type": ["Stray", "Owner Surrender", "Public Assist", "Euthanasia Request"]
    };
	</script>
	
  <script>
    // Get the filter dropdown elements
    var filterDropdown = document.getElementById("filter");
    var secondaryFilterDropdown = document.getElementById("secondary-filter");

    // Add an event listener to the filter dropdown
    filterDropdown.addEventListener("change", function() {
      // Clear the secondary filter dropdown
      secondaryFilterDropdown.innerHTML = "";
      
      // Get the selected filter value
      var filterValue = this.value;
      
      // Populate the secondary filter dropdown based on the filter value
      var options;
      switch (filterValue) {
        case "breed":
          options = ["Labrador Retriever", "Golden Retriever", "German Shepherd", "Bulldog"];
          break;
        case "color":
          options = ["Black", "White", "Brown", "Yellow"];
          break;
        case "sex":
          options = ["Male", "Female"];
          break;
        case "intake_type":
          options = ["Stray", "Owner Surrender", "Public Assist", "Euthanasia Request"];
          break;
        default:
          options = [];
      }
      
      options.forEach(function(option) {
        var opt = document.createElement("option");
        opt.value = option;
        opt.textContent = option;
        secondaryFilterDropdown.appendChild(opt);
      });

      // Trigger the change event to update the table filter
      secondaryFilterDropdown.dispatchEvent(new Event("change"));
    });

        // Add an event listener to the secondary filter dropdown
		secondaryFilterDropdown.addEventListener("change", function() {
      // Get the selected filter value
      var primaryFilterValue = filterDropdown.value;
      var secondaryFilterValue = this.value;

      // Get all the table rows
      var tableRows = document.querySelectorAll("tbody tr");

      // Loop through the table rows
      for (var i = 0; i < tableRows.length; i++) {
        // Get the current row's cells
        var cells = tableRows[i].cells;

        // Determine the primary and secondary filter column indices
        var primaryFilterIndex;
        var secondaryFilterIndex;

        switch (primaryFilterValue) {
          case "breed":
            primaryFilterIndex = 0;
            break;
          case "color":
            primaryFilterIndex = 1;
            break;
          case "sex":
            primaryFilterIndex = 2;
            break;
          case "intake_type":
            primaryFilterIndex = 3;
            break;
          default:
            primaryFilterIndex = -1;
        }

        secondaryFilterIndex = primaryFilterIndex === 0 ? 1 : 0;

        // Get the cells with the matching filters
        var primaryCell = cells[primaryFilterIndex];
        var secondaryCell = cells[secondaryFilterIndex];

        // Check if the cells' text content matches the filter values
        if (primaryCell.textContent === primaryFilterValue && secondaryCell.textContent === secondaryFilterValue) {
          // If both match, show the row
          tableRows[i].style.display = "";
        } else {
          // Otherwise, hide the row
          tableRows[i].style.display = "none";
        }
      }
    });

    // Trigger the change event for the first filter dropdown to populate the second dropdown and update the table filter
    filterDropdown.dispatchEvent(new Event("change"));
  </script>
</body>
</html>
